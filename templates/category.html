{{define "category"}}
<!DOCTYPE html>
<html lang="en">
{{template "head" .Category}}
<body>
    {{template "header" .}}

    <main class="main-content">
        <section class="category-header">
            <div class="category-header-inner">
                <h1 class="category-title">{{.Category.Name}}</h1>
                {{if .Category.Description}}
                <p class="category-description">{{.Category.Description}}</p>
                {{end}}
            </div>
        </section>

        <section class="posts-section">
            <h2 class="section-title">{{len .Category.Posts}} {{if eq (len .Category.Posts) 1}}post{{else}}posts{{end}}</h2>
            <ul class="posts-list posts-list--single">
                {{range .Category.Posts}}
                <li class="post-item">
                    <a href="{{.URL}}" class="post-link">
                        <article class="post-card">
                            {{if .Unit}}<span class="post-unit">Unit {{.Unit}}</span>{{end}}
                            <h3 class="post-title">{{.Title}}</h3>
                            {{if .Description}}
                            <p class="post-excerpt">{{.Description}}</p>
                            {{end}}
                            <span class="post-read-more">Read more â†’</span>
                        </article>
                    </a>
                </li>
                {{end}}
            </ul>
        </section>
    </main>

    {{template "footer" .}}

    <script>
        document.querySelector('.nav-toggle')?.addEventListener('click', function() {
            document.querySelector('.main-nav').classList.toggle('is-open');
            this.classList.toggle('is-active');
        });
    </script>
</body>
</html>
{{end}}
